<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" type="text/css" href="http://cdn.ahri.moe/modern/modern.css" />
    <link rel="stylesheet" type="text/css" href="http://cdn.ahri.moe/modern/modern.dark.css" />
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="stylesheet" type="text/css" href="/card.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        var boards = ["main", "side", "maybe", "acquire"];
        var types = ["sorcery", "instant", "enchantment", "artifact", "planeswalker", "creature", "land"];

        function ChangeView(id, restage) {
            $(".view").addClass("hidden");
            setTimeout(function () {
                $(".view").hide();
                if (typeof restage === "function") restage();
                $(id).show().removeClass("hidden");
            }, 500);
        }

        /* Draggable */{
            var heldRef;
            $.fn.extend({
                draggable: function () {
                    return this.each(function () {
                        $(this).on("mousedown.draggable", function (e) {
                            $(this).addClass("held");
                            $(this).closest(".card-area > .card").addClass("held-root");
                            heldRef = {
                                x: e.pageX,
                                y: e.pageY
                            };
                            e.stopPropagation();
                        });
                    });
                }
            });

            $(window).on("mouseup.draggable", function (e) {
                $(".card.held").removeClass("held").removeAttr("style");
                $(".card.held-root").removeClass("held-root");
                heldRef = null;
            }).on("mousemove.draggable", function (e) {
                if (heldRef) {
                    $(".card.held").css({
                        "left": e.pageX - heldRef.x,
                        "top": e.pageY - heldRef.y
                    });
                }
            });
        }

        $(function () {

        });
    </script>
</head>
<body class="modern">
    <div id="app">
        <div class="header">
            <div id="controlBar">
                <form id="pasteForm">
                    <textarea id="deckPaste" class="modern"></textarea> <input type="submit" id="loadPaste" value="Load deck paste" />
                </form>
            </div>
        </div>
    <script src="/bundle.js"></script>
</body>
</html>